<div>
    <mat-card *ngIf="code && match">
        <mat-card-header>
            <mat-card-title>
                Match details
            </mat-card-title>
            <mat-card-subtitle>
                {{ match.code }} <span i18n>created by</span> {{ match.author.firstName }} {{ match.author.surname }}
            </mat-card-subtitle>
        </mat-card-header>
        <mat-card-content class="dashboard-card-content">
            <table>
                <tr class="row">
                    <td class="leftcol">
                        <span i18n>When?</span>
                    </td>
                    <td class="rightcol">
                        {{ match.date | date:'longDate' }} <span i18n>at</span> {{ match.date | date:'shortTime' }}
                    </td>
                </tr>
                <tr class="row">
                    <td class="leftcol">
                        <span i18n>Where?</span>
                    </td>
                    <td class="rightcol">
                        {{ match.site.name }}<br />{{ match.site.address }}
                    </td>
                </tr>
                <tr class="row">
                    <td class="leftcol">
                        <span i18n>Who's coming?</span>
                    </td>
                    <td class="rightcol">
                        <mat-list *ngIf="match.registrations">
                            <mat-list-item *ngFor="let registration of match.registrations">
                                <mat-icon matListIcon>face</mat-icon>
                                <span *ngIf="currentUser.email === registration.player.email" class="marked">
                                    {{ registration.player.firstName }}
                                </span>
                                <span *ngIf="currentUser.email !== registration.player.email">
                                    {{ registration.player.firstName }}
                                </span>
                            </mat-list-item>
                        </mat-list>
                    </td>
                </tr>
            </table>
        </mat-card-content>
        <mat-card-actions *ngIf="match">
            <button mat-raised-button color="primary" type="button" [disabled]="playerAlreadyRegistered || pastMatch || !placesAvailable" (click)="openMatchJoinConfirmationDialog()" i18n>Join</button>
        </mat-card-actions>
    </mat-card>

    <mat-card *ngIf="code && !match">
        <mat-card-header>
            <mat-card-title>
                <span i18n>No match found for this code</span>
            </mat-card-title>
        </mat-card-header>
    </mat-card>
</div>